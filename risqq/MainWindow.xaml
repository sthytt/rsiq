<Window
    x:Class="risqq.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:risqq"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="RSIQ"
    Width="500"
    Height="380"
    ResizeMode="CanMinimize"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <Window.Resources>
        <Style x:Key="DashboardButton" TargetType="Button">
            <Setter Property="FontFamily" Value="Lato" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Padding" Value="15,8" />
            <Setter Property="Background" Value="#FF5BA5CC" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF1976D2" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style
            x:Key="SecondaryButton"
            BasedOn="{StaticResource DashboardButton}"
            TargetType="Button">
            <Setter Property="Background" Value="#FF607D8B" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF455A64" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="InfoLabel" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Lato" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Foreground" Value="#FF757575" />
        </Style>

        <Style x:Key="ValueLabel" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Lato" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="#FF333333" />
        </Style>

        <Style x:Key="FooterButton" TargetType="Button">
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="FontFamily" Value="Lato" />
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Foreground" Value="#FF757575" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Padding="{TemplateBinding Padding}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#FF333333" />
                    <Setter Property="Background" Value="#FFF0F0F0" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Background="#FFF5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  risk indicator header  -->
        <Border
            Grid.Row="0"
            Margin="0,0,0,10"
            Padding="20"
            Background="White">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  title  -->
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock
                        Width="395"
                        FontFamily="Lato Light"
                        FontSize="24"
                        Foreground="#FF333333"
                        Text="RSIQ Indicator" />
                    <TextBlock
                        Margin="0,2,0,0"
                        FontSize="12"
                        Foreground="#FF757575"
                        Text="Session Management" />
                </StackPanel>

                <!--  risk indicator  -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                    <Ellipse
                        x:Name="RiskIndicator"
                        Width="70"
                        Height="70"
                        Opacity="0.8"
                        Stroke="#FF333333"
                        StrokeThickness="8" />
                    <Label
                        x:Name="RiskLevel"
                        Margin="0,-46,0,0"
                        HorizontalAlignment="Center"
                        FontSize="11"
                        FontWeight="SemiBold"
                        Foreground="#FF333333" />
                </StackPanel>
            </Grid>
        </Border>

        <!--  session status  -->
        <Border
            Grid.Row="1"
            Margin="20,0,20,10"
            Padding="15"
            Background="White"
            CornerRadius="4">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!--  session duration  -->
                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                    <TextBlock
                        Style="{StaticResource InfoLabel}"
                        Text="Session Duration"
                        TextAlignment="Center" />
                    <TextBlock
                        x:Name="SessionDurationText"
                        Margin="0,5,0,0"
                        Style="{StaticResource ValueLabel}"
                        Text="00:00:00"
                        TextAlignment="Center" />
                </StackPanel>

                <!--  actions count  -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                    <TextBlock
                        Style="{StaticResource InfoLabel}"
                        Text="Actions"
                        TextAlignment="Center" />
                    <TextBlock
                        x:Name="ClickCountText"
                        Margin="0,5,0,0"
                        Style="{StaticResource ValueLabel}"
                        Text="0"
                        TextAlignment="Center" />
                </StackPanel>

                <!--  next break  -->
                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                    <TextBlock
                        Style="{StaticResource InfoLabel}"
                        Text="Next Break In"
                        TextAlignment="Center" />
                    <TextBlock
                        x:Name="NextActionText"
                        Margin="0,5,0,0"
                        Style="{StaticResource ValueLabel}"
                        Text="--"
                        TextAlignment="Center" />
                </StackPanel>
            </Grid>
        </Border>

        <!--  Session management  -->
        <StackPanel
            Grid.Row="2"
            Margin="20,0,20,0"
            VerticalAlignment="Center">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="10" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button
                    x:Name="SessionButton"
                    Grid.Column="2"
                    Height="40"
                    Click="SessionButton_Click"
                    Content="Start"
                    Style="{StaticResource DashboardButton}" />

                <Button
                    x:Name="AbortButton"
                    Grid.Column="0"
                    Height="40"
                    Click="AbortButton_Click"
                    Content="Abort"
                    IsEnabled="False"
                    Style="{StaticResource SecondaryButton}"
                    Visibility="Hidden" />
            </Grid>

        </StackPanel>

        <!--  footer (autoclick, settings, logs)  -->
        <Border
            Grid.Row="3"
            Margin="0,10,0,0"
            Padding="15"
            Background="White">
            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">

                <Button
                    x:Name="LogButton"
                    Margin="0,0,10,0"
                    Click="LogButton_Click"
                    Content="📄 Logs"
                    Style="{StaticResource FooterButton}" />

                <Button
                    x:Name="AutoclickButton"
                    Margin="0,0,10,0"
                    Click="AutoclickButton_Click"
                    Content="🖱 AutoClick"
                    Style="{StaticResource FooterButton}" />

                <Button
                    x:Name="SettingsButton"
                    Click="SettingsButton_Click"
                    Content="⚙️ Settings"
                    Style="{StaticResource FooterButton}" />
            </StackPanel>
        </Border>
    </Grid>

</Window>